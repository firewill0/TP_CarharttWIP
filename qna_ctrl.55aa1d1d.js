parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"LStD":[function(require,module,exports) {
var e=document.querySelector(".qna_list"),t=document.querySelectorAll(".qna_detail"),n=document.querySelector(".qna_status"),a=document.querySelector(".btn_qnaList"),l=document.querySelector(".qna_write_box"),c=document.querySelector(".btn_qnaOk"),r=document.querySelector(".btn_qnaCancel"),o=document.querySelector("#qna_name_id"),d=document.querySelector("#qna_text_title_id"),s=document.querySelector("#qna_text_id"),i=document.querySelector("#qna_lock_id"),u=document.querySelector(".qna_counter"),p=document.querySelector(".qna_answer_box"),m=document.querySelector("#qna_answer_text_id"),y=document.querySelector(".btn_qna_answerOk"),_=document.querySelector(".btn_qna_answerCancel");function q(e){var t="";if(e.length>=6){for(var n=e.slice(0,6),a=e.slice(0,2),l=0;l<n.length;l++)l>=2&&(a+="*");t=a}else{for(var c=e.slice(0,2),r=0;r<e.length;r++)r>=2&&(c+="*");t=c}return t}function v(e){e.addEventListener("click",function(){(console.log(e),e.classList.contains("notanswer")&&console.log("not answered QnA"),e.classList.contains("locked"))&&(e.querySelector(".qna_text_box").querySelector(".qna_txt_detail").style.display="block")})}function b(e){console.log(e);var t=document.getElementById(e);console.log("getElRe",t),y.addEventListener("click",function(){if(!t.classList.contains("answered")){var e=m.value;t.querySelector(".qna_status").innerHTML="답변완료";var n=document.createElement("div");n.setAttribute("class","reply_box");var a=document.createElement("p");a.innerHTML="답변",a.setAttribute("class","reply_status");var l=document.createElement("div");l.setAttribute("class","reply_answer");var c=document.createElement("p");c.innerHTML="<i class='fas fa-reply fa-rotate-180'></i>[CARHARTT] 관리자",c.setAttribute("class","reply_who");var r=document.createElement("p");r.innerHTML=e,r.setAttribute("class","reply_text"),l.appendChild(c),l.appendChild(r),n.appendChild(a),n.appendChild(l),t.appendChild(n),p.style.display="none",t.classList.add("answered"),t.classList.remove("notanswer")}})}u.innerHTML=t.length,a.addEventListener("click",function(){l.style.display="block"}),r.addEventListener("click",function(){l.style.display="none"}),c.addEventListener("click",function(){var t=o.value,n=s.value,a=d.value,c=q(t),r=new Date,m=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();console.log(c);var y=document.createElement("li");y.setAttribute("class","qna_detail notanswer");var _=document.createElement("p");_.setAttribute("class","qna_status");var h=document.createTextNode("미처리");_.appendChild(h);var f=document.createElement("div");f.setAttribute("class","qna_text_box");var E=i.checked,A=document.createElement("p");A.setAttribute("class","qna_txt_detail");var C=document.createTextNode(n);A.appendChild(C);var L=document.createElement("p");L.setAttribute("class","qna_txt_title");var S=document.createTextNode(a);if(L.appendChild(S),!0===E){A.style.display="none";var g=document.createElement("i");g.setAttribute("class","fas fa-lock"),L.appendChild(g),y.classList.add("locked")}else A.style.display="block";f.appendChild(L),f.appendChild(A);var k=document.createElement("p");k.setAttribute("class","qna_date");var x=document.createTextNode(m);k.appendChild(x);var w=document.createElement("p");w.setAttribute("class","qna_id");var T=document.createTextNode(c);w.appendChild(T);var M=document.createElement("p");M.setAttribute("class","btnQnADelete"),M.innerHTML='<i class="fas fa-backspace"></i>',M.addEventListener("click",function(){var t=M.parentNode,n=t.getAttribute("id");console.log(t,n),e.removeChild(document.getElementById(n)),p.style.display="none"});var H=document.createElement("p");H.setAttribute("class","btnQnAReply"),H.innerHTML='<i class="far fa-comment-dots"></i>',H.addEventListener("click",function(){var e=this.parentNode;console.log("parent node:",e);var t=e.getAttribute("id");console.log(e,t),p.style.display="block",b(t)}),y.appendChild(_),y.appendChild(f),y.appendChild(k),y.appendChild(w),y.appendChild(M),y.appendChild(H),e.appendChild(y);var N=e.children.length;console.log(N),u.innerHTML=N;var D="newQnAID"+N+"_"+Math.floor(1e3*Math.random());y.setAttribute("id",D),l.style.display="none",o.value="",d.value="",d.value="",s.value="",i.checked=!1,document.querySelectorAll(".qna_detail").forEach(function(e){v(e)})}),_.addEventListener("click",function(){p.style.display="none",document.querySelectorAll(".qna_detail").forEach(function(e){e.classList.contains("locked")&&(e.querySelector(".qna_text_box").querySelector(".qna_txt_detail").style.display="none")})});
},{}]},{},["LStD"], null)
//# sourceMappingURL=qna_ctrl.55aa1d1d.js.map