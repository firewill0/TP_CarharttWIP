{"version":3,"sources":["js/top_ctrl.js"],"names":["items","sideTab","document","querySelector","top_btn","target","btn_sideTab","btn_sideTab_i","recent_view","recent_item","querySelectorAll","target_height","w","target_height_sub","innerWidth","body","body_ch","clientHeight","toggle","display","opacity","style","visibility","moveTop","value","top","isInViewport","element","rect","getBoundingClientRect","left","bottom","window","innerHeight","documentElement","right","clientWidth","addEventListener","scrollY","classList","contains","add","remove"],"mappings":";AACA,IAOIA,EAPAC,EAAUC,SAASC,cAAc,YACjCC,EAAUF,SAASC,cAAc,eACjCE,EAASH,SAASC,cAAc,oBAChCG,EAAcJ,SAASC,cAAc,gBACrCI,EAAgBD,EAAYH,cAAc,KAC1CK,EAAcN,SAASC,cAAc,gBACrCM,EAAcP,SAASQ,iBAAiB,gBAGxCC,EAAgB,EAChBC,EAAI,EACJC,EAAoB,EACxBD,EAAIE,WACJ,IAAIC,EAAOb,SAASC,cAAc,QAC9Ba,EAAUD,EAAKE,aAKnB,SAASC,EAAOC,EAASC,GACrBhB,EAAQiB,MAAMC,WAAaH,EAC3Bf,EAAQiB,MAAMD,QAAUA,EAG5B,SAASG,EAAQC,GACbvB,EAAQoB,MAAMI,IAAMD,EAGxB,SAASE,EAAaC,GAClB,IAAMC,EAAOD,EAAQE,wBACrB,OACID,EAAKH,KAAO,GACZG,EAAKE,MAAQ,GACbF,EAAKG,SAAWC,OAAOC,aAAe/B,SAASgC,gBAAgBjB,eAC/DW,EAAKO,QAAUH,OAAOlB,YAAcZ,SAASgC,gBAAgBE,aAjBrEzB,EAAgBK,GADhBH,EAA8B,GAAVG,GAsBpBgB,OAAOK,iBAAiB,SAAU,WAC9BzB,EAAIE,WACJE,EAAUD,EAAKE,aAGfN,EAAgBK,GADhBH,EAA8B,GAAVG,KAKxBgB,OAAOK,iBAAiB,SAAU,WACXL,OAAOM,SAEN3B,EAChBO,EAAO,UAAW,GAElBA,EAAO,SAAU,GAGjBQ,EAAarB,GACbkB,EAAQ,MAERA,EAAQ,SAMhBhB,EAAc8B,iBAAiB,QAAQ,WACrB9B,EAAcgC,UAAUC,SAAS,4BAG3CjC,EAAcgC,UAAUE,IAAI,0BAC5BlC,EAAcgC,UAAUG,OAAO,2BAC/BlC,EAAYa,MAAMc,MAAQ,UAG1B5B,EAAcgC,UAAUE,IAAI,2BAC5BlC,EAAcgC,UAAUG,OAAO,0BAC/BlC,EAAYa,MAAMc,MAAQ","file":"top_ctrl.5e0caa25.js","sourceRoot":"..","sourcesContent":["\r\nlet sideTab = document.querySelector('.sideTab');\r\nlet top_btn = document.querySelector(\".btnTopArea\");\r\nlet target = document.querySelector('.footer_mid_left');\r\nlet btn_sideTab = document.querySelector('.btn_sideTab');\r\nlet btn_sideTab_i = btn_sideTab.querySelector('i');\r\nlet recent_view = document.querySelector('.recent_view');\r\nlet recent_item = document.querySelectorAll('.recent_item');\r\nlet items;\r\n\r\nlet target_height = 0;\r\nlet w = 0;\r\nlet target_height_sub = 0;\r\nw = innerWidth;\r\nlet body = document.querySelector(\"body\");\r\nlet body_ch = body.clientHeight;\r\n\r\ntarget_height_sub = body_ch * 0.8;\r\ntarget_height = body_ch - target_height_sub;\r\n\r\nfunction toggle(display, opacity) {\r\n    top_btn.style.visibility = display;\r\n    top_btn.style.opacity = opacity;\r\n}\r\n\r\nfunction moveTop(value) {\r\n    sideTab.style.top = value;\r\n}\r\n\r\nfunction isInViewport(element) {\r\n    const rect = element.getBoundingClientRect();\r\n    return (\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n    );\r\n}\r\n\r\nwindow.addEventListener('resize', function () {\r\n    w = innerWidth;\r\n    body_ch = body.clientHeight;\r\n\r\n    target_height_sub = body_ch * 0.9;\r\n    target_height = body_ch - target_height_sub;\r\n\r\n});\r\n\r\nwindow.addEventListener('scroll', function () {\r\n    let scrollHeight = window.scrollY;\r\n\r\n    if (scrollHeight >= target_height) {\r\n        toggle(\"visible\", 1);\r\n    } else {\r\n        toggle(\"hidden\", 0);\r\n    }\r\n\r\n    if (isInViewport(target)) {\r\n        moveTop(\"9%\");\r\n    } else {\r\n        moveTop(\"50%\");\r\n    }\r\n    // 9%\r\n\r\n});\r\n\r\nbtn_sideTab_i.addEventListener('click',function(){\r\n    let chkicon = btn_sideTab_i.classList.contains('fa-chevron-circle-right');\r\n\r\n    if (chkicon) {\r\n        btn_sideTab_i.classList.add('fa-chevron-circle-left');\r\n        btn_sideTab_i.classList.remove('fa-chevron-circle-right');\r\n        recent_view.style.right = \"-86px\";\r\n    }\r\n    else {\r\n        btn_sideTab_i.classList.add('fa-chevron-circle-right');\r\n        btn_sideTab_i.classList.remove('fa-chevron-circle-left');\r\n        recent_view.style.right = \"0\";\r\n    }\r\n});\r\n\r\n"]}