{"version":3,"sources":["js/review_ctrl.js"],"names":["review_list","document","querySelector","review_detail","querySelectorAll","review_write_box","btn_writeReview","btn_reviewOk","btn_reviewCancel","review_name_id","review_text_id","review_counter","stars","RatingInt","RIDCheck","id","data","length","result","slice","prefix","i","RatingCheck","node","value","console","log","newStar","createElement","setAttribute","appendChild","innerHTML","addEventListener","style","display","forEach","element","index","classList","add","remove","getRID","getReviewText","nowDate","Date","DateString","getFullYear","getMonth","getDate","newRD","newRText","newRTextNode","createTextNode","newRRating","newRDate","newRDateNode","newRID","newRIDNode","newDelete","parent","parentNode","getReviewID","getAttribute","removeChild","getElementById","review_list_child","children","newRD_ID"],"mappings":"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","file":"review_ctrl.1966910c.js","sourceRoot":"..","sourcesContent":["const review_list = document.querySelector('.review_list');\r\nconst review_detail = document.querySelectorAll('.review_detail');\r\nconst review_write_box = document.querySelector('.review_write_box');\r\nconst btn_writeReview = document.querySelector('.btn_writeReview');\r\nconst btn_reviewOk = document.querySelector('.btn_reviewOk');\r\nconst btn_reviewCancel = document.querySelector('.btn_reviewCancel');\r\nconst review_name_id = document.querySelector('#review_name_id');\r\n// const review_rating_id = document.querySelector('#review_rating_id');\r\nconst review_text_id = document.querySelector('#review_text_id');\r\nconst review_counter = document.querySelector('.review_counter');\r\nconst stars = document.querySelectorAll('.stars');\r\nlet RatingInt = 1;\r\n\r\nreview_counter.innerHTML = review_detail.length;\r\n\r\nbtn_writeReview.addEventListener('click', function () {\r\n    review_write_box.style.display = \"block\";\r\n});\r\n\r\nstars.forEach((element, index) => {\r\n    element.addEventListener('click', function () {\r\n        RatingInt = index + 1;\r\n        console.log(RatingInt);\r\n        for (let i = 0; i < stars.length; i++) {\r\n            stars[i].classList.add('far');\r\n            stars[i].classList.remove('fas');\r\n        }\r\n        for (let i = 0; i < index + 1; i++) {\r\n            stars[i].classList.remove('far');\r\n            stars[i].classList.add('fas');\r\n        }\r\n    });\r\n});\r\n\r\nfunction RIDCheck(id) {\r\n    let data = \"\";\r\n    if (id.length >= 6) {\r\n        let result = id.slice(0, 6);\r\n        let prefix = id.slice(0, 2);\r\n        for (let i = 0; i < result.length; i++) {\r\n            if (i >= 2) {\r\n                prefix += \"*\";\r\n            };\r\n        };\r\n        data = prefix;\r\n    } else {\r\n        let prefix = id.slice(0, 2);\r\n        for (let i = 0; i < id.length; i++) {\r\n            if (i >= 2) {\r\n                prefix += \"*\";\r\n            };\r\n        };\r\n        data = prefix;\r\n    };\r\n\r\n    return data;\r\n}\r\n\r\nfunction RatingCheck(node, value) {\r\n    if (value > 5) {\r\n        value = 5;\r\n    };\r\n    if (value == 0) {\r\n        value = 1;\r\n    };\r\n\r\n    console.log('rating_num:', value);\r\n\r\n    for (let i = 1; i < 6; i++) {\r\n        let newStar = document.createElement('i');\r\n        if (i <= value) {\r\n            newStar.setAttribute('class', 'fas fa-star');\r\n        } else {\r\n            newStar.setAttribute('class', 'far fa-star');\r\n        }\r\n        node.appendChild(newStar);\r\n    }\r\n\r\n}\r\n\r\nbtn_reviewOk.addEventListener('click', function () {\r\n    let getRID = review_name_id.value;\r\n    // let getRating = review_rating_id.value;\r\n    // let RatingInt = parseInt(getRating);\r\n\r\n    let getReviewText = review_text_id.value;\r\n\r\n    let result = RIDCheck(getRID);\r\n\r\n    console.log('rating:', RatingInt);\r\n\r\n    let nowDate = new Date();\r\n    let DateString = nowDate.getFullYear() + '-' + (nowDate.getMonth() + 1) + '-' + nowDate.getDate();\r\n\r\n    console.log(result);\r\n\r\n    let newRD = document.createElement('li');\r\n    newRD.setAttribute('class', 'review_detail');\r\n\r\n    let newRText = document.createElement('p');\r\n    newRText.setAttribute('class', 'review_txt')\r\n    let newRTextNode = document.createTextNode(getReviewText);\r\n    newRText.appendChild(newRTextNode);\r\n\r\n\r\n    let newRRating = document.createElement('p');\r\n    newRRating.setAttribute('class', 'reivew_rating');\r\n\r\n    RatingCheck(newRRating, RatingInt);\r\n\r\n\r\n    let newRDate = document.createElement('p');\r\n    newRDate.setAttribute('class', 'review_date')\r\n    let newRDateNode = document.createTextNode(DateString);\r\n    newRDate.appendChild(newRDateNode);\r\n\r\n    let newRID = document.createElement('p');\r\n    newRID.setAttribute('class', 'review_id')\r\n    let newRIDNode = document.createTextNode(result);\r\n    newRID.appendChild(newRIDNode);\r\n\r\n    let newDelete = document.createElement('p');\r\n    newDelete.setAttribute('class', 'btnReviewDelete');\r\n    newDelete.innerHTML = `<i class=\"fas fa-backspace\"></i>`;\r\n\r\n    newDelete.addEventListener('click', function () {\r\n        let parent = newDelete.parentNode;\r\n\r\n        let getReviewID = parent.getAttribute('id');\r\n        console.log(parent,getReviewID);\r\n\r\n        review_list.removeChild(document.getElementById(getReviewID));\r\n    });\r\n    // let newDeleteBtn = document.createElement('i');\r\n    // newDeleteBtn.setAttribute('class','fa-solid fa-delete-left');\r\n\r\n    // newDelete.appendChild(newDeleteBtn);\r\n\r\n\r\n    newRD.appendChild(newRText);\r\n    newRD.appendChild(newRRating);\r\n    newRD.appendChild(newRDate);\r\n    newRD.appendChild(newRID);\r\n    newRD.appendChild(newDelete);\r\n\r\n\r\n    review_list.appendChild(newRD);\r\n\r\n    let review_list_child = review_list.children.length;\r\n\r\n    review_counter.innerHTML = review_list_child;\r\n    let newRD_ID = \"newrdID\" + review_list_child\r\n    newRD.setAttribute('id',newRD_ID);\r\n\r\n    review_write_box.style.display = \"none\";\r\n\r\n    review_name_id.value = '';\r\n    // review_rating_id.value = '';\r\n    review_text_id.value = '';\r\n\r\n    stars.forEach(() => {\r\n        for (let i = 0; i < stars.length; i++) {\r\n            stars[i].classList.add('far');\r\n            stars[i].classList.remove('fas');\r\n        }\r\n\r\n    });\r\n});\r\n\r\n\r\nbtn_reviewCancel.addEventListener('click', function () {\r\n    review_write_box.style.display = \"none\";\r\n});"]}